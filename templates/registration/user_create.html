{% extends 'base/base_hero.html' %}
{% load my_tags %}

{% block title %}
    {{ block.super }} | Register
{% endblock title %}


{% block content %}
<div class="column is-4 is-offset-4">
    <h3 class="title">Register</h3>
    <div class="box">
        <form method="post">
            {% csrf_token %}
            <div class="field">
                <div class="control has-icons-left">
                    <input
                      {% if 'full_name' in form.errors %}
                        class="input is-danger"
                      {% else %}
                        class="input"
                      {% endif %}
                      type="text"
                      name="full_name"
                      placeholder="Full Name" autofocus=""
                      required=""
                      value="{{ form.full_name.value|default_if_none:'' }}"
                      spellcheck="false">
                    <span class="icon is-small is-left">
                        <i class="fas fa-id-card"></i>
                    </span>
                    {% if 'full_name' in form.errors %}
                    <ul class="help is-danger">
                        {% for error in form.errors|get_item:'full_name' %}
                        <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                    {% endif %}
                </div>
            </div>

            <div class="field">
                <div class="control has-icons-left">
                    <input
                      {% if 'email' in form.errors %}
                        class="input is-danger"
                      {% else %}
                        class="input"
                      {% endif %}
                      type="email"
                      name="email"
                      placeholder="E-mail"
                      required=""
                      value="{{ form.email.value|default_if_none:'' }}">
                    <span class="icon is-small is-left">
                        <i class="fas fa-at"></i>
                    </span>
                    {% if 'email' in form.errors %}
                    <ul class="help is-danger">
                        {% for error in form.errors|get_item:'email' %}
                        <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                    {% endif %}
                </div>
            </div>
            <div class="field">
                <div class="control has-icons-left">
                    <input
                      {% if 'phone_number' in form.errors %}
                        class="input is-danger"
                      {% else %}
                        class="input"
                      {% endif %}
                      type="tel"
                      name="phone_number"
                      placeholder="Phone Number"
                      required=""
                      value="{{ form.phone_number.value|default_if_none:'' }}">
                    <span class="icon is-small is-left">
                        <i class="fas fa-phone" data-fa-transform="flip-h"></i>
                    </span>
                    {% if 'phone_number' in form.errors %}
                    <ul class="help is-danger">
                        {% for error in form.errors|get_item:'phone_number' %}
                        <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                    {% endif %}
                </div>
            </div>
            <div class="field">
                <div class="control has-icons-left">
                    <input
                      {% if 'username' in form.errors %}
                        class="input is-danger is-uppercase"
                      {% else %}
                        class="input is-uppercase"
                      {% endif %}
                        type="text"
                        name="username"
                        placeholder="Varsity ID"
                        required=""
                        value="{{ form.username.value|default_if_none:'' }}"
                        spellcheck="false">
                    <span class="icon is-small is-left">
                        <i class="fas fa-hashtag"></i>
                    </span>
                    {% if 'username' in form.errors %}
                    <ul class="help is-danger">
                        {% for error in form.errors|get_item:'username' %}
                        <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                    {% endif %}
                </div>
            </div>
            <div class="field">
                <div class="control has-icons-left">
                  <span class="select is-fullwidth{% if 'department' in form.errors %} is-danger{% endif %}">
                    <select name="department" >
                    {% for x,y in form.fields.department.choices %}
                      <option value="{{ x }}" {% if form.field.value == x %} selected{% endif %}>{{ y.upper }}</option>
                    {% endfor %}
                    </select>
                  </span>
                  <span class="icon is-small is-left">
                      <i class="fas fa-users"></i>
                  </span>
                  {% if 'department' in form.errors %}
                  <ul class="help is-danger">
                      {% for error in form.errors|get_item:'department' %}
                      <li>{{ error }}</li>
                      {% endfor %}
                  </ul>
                  {% endif %}
                </div>
            </div>
            <div class="field">
                <div class="control has-icons-left">
                    <input
                      {% if 'password1' in form.errors %}
                        class="input is-danger"
                      {% else %}
                        class="input"
                      {% endif %}
                      type="password"
                      name="password1"
                      placeholder="Password"
                      required="">
                    <span class="icon is-small is-left">
                        <i class="fas fa-key"></i>
                    </span>

                    {% if 'password1' in form.errors %}
                    <ul class="help is-danger">
                        {% for error in form.errors|get_item:'password1' %}
                        <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                    {% endif %}
                </div>
            </div>
            <div class="field">
                <div class="control has-icons-left">
                    <input
                      {% if 'password2' in form.errors %}
                        class="input is-danger"
                      {% else %}
                        class="input"
                      {% endif %}
                      type="password"
                      name="password2"
                      placeholder="Confirm Password"
                      required="">
                    <span class="icon is-small is-left">
                        <i class="fas fa-key"></i>
                    </span>
                    {% if 'password2' in form.errors %}
                    <ul class="help is-danger">
                        {% for error in form.errors|get_item:'password2' %}
                        <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                    {% endif %}
                </div>
            </div>
            <input type="submit"
                value="Register"
                class="button is-block is-link is-fullwidth">
        </form>
    </div>
</div>
{% endblock content %}
